<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Examen de Conducir - Río Gallegos</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        
        :root {
            --primary-color: #007BFF;
            --primary-hover-color: #0056b3;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --background-color: #f4f7f9;
            --surface-color: #ffffff;
            --text-primary-color: #212529;
            --text-secondary-color: #6c757d;
            --border-color: #dee2e6;
            --border-radius: 12px;
            --box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--background-color); 
            color: var(--text-primary-color); 
            margin: 0; 
            padding: 20px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh;
        }
        .main-container { 
            background-color: var(--surface-color); 
            border-radius: var(--border-radius); 
            box-shadow: var(--box-shadow); 
            width: 100%; 
            max-width: 800px; 
            padding: 40px; 
            position: relative;
            overflow: hidden;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header { text-align: center; margin-bottom: 30px; }
        .header h1 { color: var(--text-primary-color); font-size: 2em; margin-bottom: 5px; }
        .header p { font-size: 1.1em; color: var(--text-secondary-color); }
        #start-screen p { font-size: 1.1em; line-height: 1.6; margin: 20px 0; }
        
        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 35px;
            font-size: 1.1em;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 700;
            display: inline-block;
            text-decoration: none;
        }
        .btn:hover {
            background-color: var(--primary-hover-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.2);
        }

        .quiz-header { margin-bottom: 20px; position: relative; }
        #progress-bar-container { width: 100%; height: 8px; background-color: #e9ecef; border-radius: 4px; overflow: hidden; margin-bottom: 20px; }
        #progress-bar { width: 0%; height: 100%; background-color: var(--primary-color); transition: width 0.4s ease-in-out; }
        .quiz-info { display: flex; justify-content: space-between; align-items: center; font-weight: 500; color: var(--text-secondary-color); }
        #timer { font-weight: 700; color: var(--primary-color); }
        #question-text { font-size: 1.5em; font-weight: 700; margin-bottom: 30px; line-height: 1.4; }
        #answer-options { display: grid; gap: 15px; }
        .option { background-color: var(--surface-color); border: 2px solid var(--border-color); padding: 18px 20px; border-radius: var(--border-radius); cursor: pointer; transition: all 0.2s ease; text-align: left; font-size: 1em; font-weight: 500; }
        
        .option.correct { background-color: #d4edda; border-color: var(--success-color); color: #155724; }
        .option.incorrect { background-color: #f8d7da; border-color: var(--danger-color); color: #721c24; }
        .option.disabled { cursor: not-allowed; }
        .option.disabled:not(.correct):not(.incorrect) { opacity: 0.6; }

        @media (hover: hover) and (pointer: fine) {
            .option:not(.disabled):hover {
                transform: translateY(-2px);
                border-color: var(--primary-color);
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            }
        }

        #results-container h2 { font-size: 1.8em; margin-bottom: 10px; }
        #results-container p { font-size: 1.2em; color: var(--text-secondary-color); margin-bottom: 20px; }
        #score-display { display: flex; justify-content: center; align-items: center; gap: 30px; margin: 30px 0; flex-wrap: wrap; }
        .score-circle { width: 120px; height: 120px; border-radius: 50%; display: flex; justify-content: center; align-items: center; flex-direction: column; font-weight: 700; }
        .score-circle.pass { background-color: #28a74520; color: var(--success-color); }
        .score-circle.fail { background-color: #dc354520; color: var(--danger-color); }
        .score-circle span:first-child { font-size: 2.5em; }
        .score-circle span:last-child { font-size: 0.9em; text-transform: uppercase; }
        .score-details { text-align: left; }
        .score-details p { font-size: 1.1em; margin: 5px 0; color: var(--text-primary-color); }
        .score-details span { font-weight: 700; }
        
        #review-list { list-style: none; padding: 0; text-align: left; max-height: 300px; overflow-y: auto; margin-top: 20px; }
        #review-list li { background-color: #f8f9fa; border-radius: 8px; padding: 15px; margin-bottom: 10px; border-left: 5px solid; }
        #review-list li.correct { border-color: var(--success-color); }
        #review-list li.incorrect { border-color: var(--danger-color); }
        .question-review { font-weight: bold; margin-bottom: 8px; }
        .answer-review { margin-top: 8px; font-size: 0.95em; }
        
        .icon-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            position: absolute;
            top: 20px;
            right: 20px;
            opacity: 0.6;
            transition: opacity 0.3s;
        }
        .icon-btn:hover { opacity: 1; }
        .icon-btn svg { width: 24px; height: 24px; stroke: #555; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }
        #close-btn { display: none; }

        @media (max-width: 768px) {
            body { padding: 10px; }
            .main-container { padding: 20px; }
            .header h1 { font-size: 1.5em; }
            #question-text { font-size: 1.2em; }
            .option { padding: 15px; font-size: 0.95em; }
            .btn { padding: 15px 30px; font-size: 1em; }
            #score-text { font-size: 2em; }
            .quiz-info { font-size: 0.9em; }
            .icon-btn { top: 15px; right: 15px; }
        }
    </style>
</head>
<body>
    <div class="main-container">
        
        <button id="close-btn" class="icon-btn" title="Cerrar Examen">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                <path d="M18 6L6 18"></path>
                <path d="M6 6L18 18"></path>
            </svg>
        </button>

        <div id="start-screen" class="screen active">
            <div class="header">
                <h1>Simulador de Examen de Conducir</h1>
                <p>Basado en los Apuntes de Educación Vial de Río Gallegos</p>
            </div>
            <p>
                Te enfrentarás a 40 preguntas aleatorias que cubren todos los temas del curso oficial.
                <br>Tienes <b>45 minutos</b> para completar la prueba.
            </p>
            <button id="start-btn" class="btn">Comenzar Examen</button>
        </div>

        <div id="quiz-screen" class="screen">
            <div class="quiz-header">
                <div id="progress-bar-container">
                    <div id="progress-bar"></div>
                </div>
                <div class="quiz-info">
                    <span id="question-counter"></span>
                    <span id="timer"></span>
                </div>
            </div>
            <h2 id="question-text"></h2>
            <div id="answer-options"></div>
        </div>

        <div id="results-screen" class="screen">
            <div class="header">
                <h1>Resultados del Examen</h1>
            </div>
            <p id="result-message"></p>
            <div id="score-display">
                <div id="score-circle" class="score-circle">
                    <span id="score-percentage"></span>
                    <span>Puntos</span>
                </div>
                <div class="score-details">
                    <p>Correctas: <span id="correct-answers"></span></p>
                    <p>Incorrectas: <span id="incorrect-answers"></span></p>
                    <p>Total: <span id="total-questions"></span></p>
                </div>
            </div>
            <ul id="review-list"></ul>
            <button id="restart-btn" class="btn">Volver a Intentar</button>
        </div>
    </div>

<script>
    const allQuestions = [
        // --- Preguntas basadas en el Apunte de Río Gallegos ---
        { question: "Según el apunte, ¿cuál de estos NO es un requisito indispensable para circular?", options: ["Licencia de conducir correspondiente", "Cédula de identificación del vehículo", "Título de propiedad del automotor", "Comprobante de seguro en vigencia"], correctAnswer: "Título de propiedad del automotor" },
        { question: "La categoría B1 permite conducir automóviles y camionetas hasta un peso máximo de:", options: ["2.500 kg.", "3.500 kg.", "4.000 kg.", "No tiene límite de peso"], correctAnswer: "3.500 kg." },
        { question: "La categoría B2 permite conducir vehículos de la clase B1 con un acoplado de hasta:", options: ["500 kg.", "750 kg.", "1.000 kg.", "1.500 kg."], correctAnswer: "750 kg." },
        { question: "Si su licencia de conducir presenta datos que difieren de su DNI actual, ¿cuánto tiempo tiene de validez?", options: ["Es válida hasta su vencimiento", "Caduca inmediatamente", "Caduca a los 90 días del cambio de datos", "Caduca a los 30 días del cambio de datos"], correctAnswer: "Caduca a los 90 días del cambio de datos" },
        { question: "¿Qué es un 'peatón' según la definición del material de estudio?", options: ["Toda persona que camina por la calle", "Toda persona que se desplaza por la vía pública usando sus propios miembros", "Solo quienes cruzan por la senda peatonal", "Quienes esperan el transporte público"], correctAnswer: "Toda persona que se desplaza por la vía pública usando sus propios miembros" },
        { question: "Las señales reglamentarias (circulares, borde rojo, fondo blanco) tienen por objeto:", options: ["Advertir sobre peligros", "Indicar el camino, obligaciones, limitaciones o prohibiciones", "Informar sobre destinos turísticos", "Señalizar obras en la calzada"], correctAnswer: "Indicar el camino, obligaciones, limitaciones o prohibiciones" },
        { question: "Las señales preventivas (en forma de rombo, fondo amarillo) tienen la función de:", options: ["Obligar a una maniobra", "Prohibir el paso", "Advertir a los conductores sobre la existencia de algún riesgo en la vía", "Indicar la velocidad máxima"], correctAnswer: "Advertir a los conductores sobre la existencia de algún riesgo en la vía" },
        { question: "En un cruce de calles comunes sin señalizar, la prioridad de paso está dada para:", options: ["El vehículo de mayor tamaño", "El que circula por la derecha", "El que llega primero", "El que circula por la calle más ancha"], correctAnswer: "El que circula por la derecha" },
        { question: "El giro en 'U' en la vía pública está:", options: ["Permitido en avenidas", "Permitido si no hay tránsito", "Totalmente prohibido", "Permitido solo de día"], correctAnswer: "Totalmente prohibido" },
        { question: "Las luces intermitentes de emergencia (balizas) deben usarse para:", options: ["Indicar que se va a estacionar en doble fila", "Agradecer a otro conductor", "Indicar detención en zonas peligrosas o para maniobras riesgosas", "Circular en días de lluvia"], correctAnswer: "Indicar detención en zonas peligrosas o para maniobras riesgosas" },
        { question: "Al estacionar en una calle con pendiente, se debe:", options: ["Dejar el auto en punto muerto", "Colocar el freno de mano y dejar las ruedas delanteras en ángulo con el cordón", "Solo colocar el freno de mano", "Apoyar la rueda trasera en el cordón"], correctAnswer: "Colocar el freno de mano y dejar las ruedas delanteras en ángulo con el cordón" },
        { question: "¿Cuál es la diferencia principal entre 'conducir' y 'manejar' según el apunte?", options: ["Son sinónimos, no hay diferencia", "'Manejar' es conocer los comandos y 'conducir' es moverse de acuerdo a las normas", "'Conducir' es para profesionales y 'manejar' para particulares", "Ninguna es correcta"], correctAnswer: "'Manejar' es conocer los comandos y 'conducir' es moverse de acuerdo a las normas" },
        { question: "La 'Seguridad Activa' de un vehículo, como el sistema de frenos o la dirección, tiene como objetivo:", options: ["Reducir los daños en caso de choque", "Aspirar a evitar al máximo los accidentes", "Hacer el viaje más cómodo", "Mejorar la estética del vehículo"], correctAnswer: "Aspirar a evitar al máximo los accidentes" },
        { question: "La 'Seguridad Pasiva', como los cinturones de seguridad o el airbag, actúa:", options: ["Antes de que ocurra el accidente, para evitarlo", "Cuando el accidente es inevitable, para reducir los daños a los ocupantes", "Durante el mantenimiento del vehículo", "Solo en condiciones climáticas adversas"], correctAnswer: "Cuando el accidente es inevitable, para reducir los daños a los ocupantes" },
        { question: "El fenómeno de 'Aquaplaning' o 'Hidroplaneamiento' ocurre cuando:", options: ["El vehículo se sobrecalienta por falta de agua", "Los neumáticos pierden adherencia por una capa de agua en la calzada", "Los frenos se mojan y no funcionan", "El motor se apaga al pasar por un charco"], correctAnswer: "Los neumáticos pierden adherencia por una capa de agua en la calzada" },
        { question: "¿Cuál es el límite de alcoholemia permitido para conductores de motos según el apunte de Río Gallegos?", options: ["0,50 g/l", "0,30 g/l", "0,20 g/l", "0,00 g/l"], correctAnswer: "0,20 g/l" },
        { question: "Para conductores de vehículos de transporte de pasajeros, de menores y de carga, el límite de alcoholemia es:", options: ["0,50 g/l", "0,20 g/l", "Cero (0,00 g/l)", "Depende del tipo de carga"], correctAnswer: "Cero (0,00 g/l)" },
        { question: "Las 5 puntas de la Estrella Amarilla pintada en la vía representan:", options: ["Atención, Precaución, Respeto, Distancia y Velocidad", "Memoria, Prevención, Ley, Justicia y Educación", "Amor, Paz, Respeto, Solidaridad y Vida", "Víctima, Familia, Comunidad, Estado y Ley"], correctAnswer: "Memoria, Prevención, Ley, Justicia y Educación" },
        { question: "En Río Gallegos, ¿es obligatorio el uso de luces bajas durante las 24 hs del día?", options: ["No, solo en rutas", "Sí, es obligatorio en todo momento", "Solo cuando hay poca visibilidad", "Solo para vehículos comerciales"], correctAnswer: "Sí, es obligatorio en todo momento" },
        { question: "Al estacionar, ¿qué distancia mínima debe dejar entre su vehículo y la línea de frenado de la esquina?", options: ["1 metro", "3 metros", "5 metros", "10 metros"], correctAnswer: "5 metros" },
        { question: "El adelantamiento a otro vehículo debe realizarse siempre por:", options: ["La derecha, si hay espacio", "La banquina", "La izquierda", "El carril que esté más despejado"], correctAnswer: "La izquierda" },
        { question: "El semáforo peatonal con la silueta humana en rojo obliga al peatón a:", options: ["Cruzar rápidamente", "Esperar en la acera sin cruzar", "Cruzar si no vienen autos", "Tener precaución al cruzar"], correctAnswer: "Esperar en la acera sin cruzar" },
        { question: "La 'Trilogía Vial' está compuesta por los factores:", options: ["Humano, Vehicular y Ambiental", "Conductor, Peatón y Ciclista", "Velocidad, Distancia y Tiempo", "Ley, Señales y Sentido Común"], correctAnswer: "Humano, Vehicular y Ambiental" },
        
        // --- Preguntas de otros módulos para asegurar cobertura completa ---
        { question: "El concepto de 'conducción a la defensiva' se refiere a:", options: ["Conducir agresivamente para imponerse", "Anticiparse a los posibles errores de los demás y a las condiciones del entorno", "Ceder siempre el paso, incluso cuando se tiene prioridad", "Utilizar el vehículo solo para lo estrictamente necesario"], correctAnswer: "Anticiparse a los posibles errores de los demás y a las condiciones del entorno" },
        { question: "El campo visual de un conductor se reduce a medida que:", options: ["Disminuye la velocidad", "Aumenta la velocidad", "Se hace de día", "El vehículo tiene más espejos"], correctAnswer: "Aumenta la velocidad" },
        { question: "La sanción de 'inhabilitación' consiste en:", options: ["El pago de una multa económica", "La obligación de realizar un curso de reeducación", "La pérdida temporal o definitiva del derecho a conducir", "El secuestro del vehículo"], correctAnswer: "La pérdida temporal o definitiva del derecho a conducir" },
        { question: "Negarse a realizar un control de alcoholemia:", options: ["No tiene consecuencias si no se cometió otra infracción", "Es considerado una falta leve", "Constituye una falta grave y genera una presunción de alcoholemia positiva en su contra", "Solo se penaliza si el conductor muestra signos evidentes de ebriedad"], correctAnswer: "Constituye una falta grave y genera una presunción de alcoholemia positiva en su contra" },
        { question: "La documentación obligatoria para circular incluye la Licencia, la Cédula de Identificación del Vehículo y:", options: ["El título de propiedad del vehículo", "El DNI del conductor", "El comprobante de pago de la última patente", "El comprobante de seguro obligatorio vigente"], correctAnswer: "El comprobante de seguro obligatorio vigente" },
        { question: "Si su vehículo queda inmovilizado en un túnel por una avería, ¿qué debe hacer?", options: ["Apagar todas las luces y esperar ayuda dentro del auto", "Intentar repararlo en el lugar sin importar el tráfico", "Encender las balizas, apagar el motor y, si es posible, empujar el vehículo al exterior o a una zona de seguridad", "Abandonar el vehículo y caminar por el centro del túnel para ser visto"], correctAnswer: "Encender las balizas, apagar el motor y, si es posible, empujar el vehículo al exterior o a una zona de seguridad" },
        { question: "Al circular de noche, ¿cuándo es obligatorio cambiar de luces altas a bajas?", options: ["Al entrar en una zona urbana", "Al cruzarse con otro vehículo o al circular detrás de uno", "A y B son correctas", "Nunca, siempre se deben usar las altas para ver mejor"], correctAnswer: "A y B son correctas" },
        { question: "La 'impericia' se refiere a:", options: ["La falta de habilidad o experiencia para ejecutar una maniobra", "Conducir de manera agresiva", "No respetar las señales de tránsito", "Exceder los límites de velocidad"], correctAnswer: "La falta de habilidad o experiencia para ejecutar una maniobra" },
    ];

    // --- LÓGICA DEL SIMULADOR ---
    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const resultsScreen = document.getElementById('results-screen');
    const startBtn = document.getElementById('start-btn');
    const restartBtn = document.getElementById('restart-btn');
    const closeBtn = document.getElementById('close-btn');

    const questionCounterElem = document.getElementById('question-counter');
    const timerElem = document.getElementById('timer');
    const progressBar = document.getElementById('progress-bar');
    const questionTextElem = document.getElementById('question-text');
    const answerOptionsElem = document.getElementById('answer-options');
    const scorePercentageElem = document.getElementById('score-percentage');
    const resultMessageElem = document.getElementById('result-message');
    const scoreCircleElem = document.getElementById('score-circle');
    const correctAnswersElem = document.getElementById('correct-answers');
    const incorrectAnswersElem = document.getElementById('incorrect-answers');
    const totalQuestionsElem = document.getElementById('total-questions');
    const reviewListElem = document.getElementById('review-list');
    
    let shuffledQuestions, currentQuestionIndex, score, userAnswers;
    const EXAM_LENGTH = 40;
    const TIME_LIMIT = 45 * 60;
    let timerInterval;
    const USED_QUESTIONS_KEY = 'usedDrivingTestQuestions';

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function switchScreen(screen) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        screen.classList.add('active');
    }
    
    function getUsedQuestions() {
        try {
            const used = sessionStorage.getItem(USED_QUESTIONS_KEY);
            return used ? JSON.parse(used) : [];
        } catch (e) {
            return [];
        }
    }

    function setUsedQuestions(questions) {
        try {
            const used = getUsedQuestions();
            const newUsed = [...used, ...questions.map(q => q.question)];
            sessionStorage.setItem(USED_QUESTIONS_KEY, JSON.stringify(newUsed));
        } catch (e) {}
    }

    function startQuiz() {
        switchScreen(quizScreen);
        
        let availableQuestions = allQuestions.filter(q => !getUsedQuestions().includes(q.question));
        if (availableQuestions.length < EXAM_LENGTH) {
            sessionStorage.removeItem(USED_QUESTIONS_KEY);
            availableQuestions = allQuestions;
        }

        shuffleArray(availableQuestions);
        shuffledQuestions = availableQuestions.slice(0, EXAM_LENGTH);
        
        currentQuestionIndex = 0;
        score = 0;
        userAnswers = [];
        
        startTimer();
        showQuestion();
    }
    
    function startTimer() {
        let timeLeft = TIME_LIMIT;
        clearInterval(timerInterval); 
        
        const updateTimer = () => {
            if (timeLeft < 0) {
                clearInterval(timerInterval);
                alert("¡Se acabó el tiempo!");
                showResults();
                return;
            }
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElem.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            timeLeft--;
        };
        
        updateTimer(); 
        timerInterval = setInterval(updateTimer, 1000);
    }
    
    function showQuestion() {
        resetState();
        const currentQuestion = shuffledQuestions[currentQuestionIndex];
        questionCounterElem.textContent = `Pregunta ${currentQuestionIndex + 1} de ${EXAM_LENGTH}`;
        progressBar.style.width = `${((currentQuestionIndex) / EXAM_LENGTH) * 100}%`;
        questionTextElem.textContent = currentQuestion.question;

        currentQuestion.options.forEach(optionText => {
            const optionElement = document.createElement('div');
            optionElement.classList.add('option');
            optionElement.textContent = optionText;
            optionElement.addEventListener('click', (e) => selectAnswer(e, optionElement, optionText));
            answerOptionsElem.appendChild(optionElement);
        });
    }

    function resetState() {
        answerOptionsElem.innerHTML = '';
        if (document.activeElement) document.activeElement.blur();
    }

    function selectAnswer(event, selectedOptionElement, selectedOptionText) {
        if (document.querySelector('.option.correct, .option.incorrect')) return;
        
        const currentQuestion = shuffledQuestions[currentQuestionIndex];
        const isCorrect = selectedOptionText === currentQuestion.correctAnswer;
        
        selectedOptionElement.classList.add(isCorrect ? 'correct' : 'incorrect');
        if (isCorrect) {
            score++;
        } else {
            Array.from(answerOptionsElem.children).forEach(opt => {
                if (opt.textContent === currentQuestion.correctAnswer) {
                    opt.classList.add('correct');
                }
            });
        }
        
        userAnswers.push({ question: currentQuestion.question, userAnswer: selectedOptionText, correctAnswer: currentQuestion.correctAnswer, isCorrect: isCorrect });
        document.querySelectorAll('.option').forEach(opt => opt.classList.add('disabled'));

        setTimeout(() => {
            currentQuestionIndex++;
            if (currentQuestionIndex < EXAM_LENGTH) {
                showQuestion();
            } else {
                clearInterval(timerInterval);
                showResults();
            }
        }, 1200);
    }
    
    function showResults() {
        switchScreen(resultsScreen);
        progressBar.style.width = '100%';
        const finalScore = Math.round((score / EXAM_LENGTH) * 100);
        
        scorePercentageElem.textContent = `${finalScore}%`;
        correctAnswersElem.textContent = score;
        incorrectAnswersElem.textContent = EXAM_LENGTH - score;
        totalQuestionsElem.textContent = EXAM_LENGTH;
        reviewListElem.innerHTML = '';

        if (finalScore >= 75) {
            resultMessageElem.textContent = '¡Excelente! Has aprobado el examen.';
            scoreCircleElem.classList.add('pass');
            scoreCircleElem.classList.remove('fail');
        } else {
            resultMessageElem.textContent = 'No has alcanzado la puntuación necesaria. ¡Sigue practicando!';
            scoreCircleElem.classList.add('fail');
            scoreCircleElem.classList.remove('pass');
        }
        
        userAnswers.forEach((answer, index) => {
            const li = document.createElement('li');
            li.classList.add(answer.isCorrect ? 'correct' : 'incorrect');
            let reviewHTML = `<div class="question-review">${index + 1}. ${answer.question}</div>`;
            if (answer.isCorrect) {
                reviewHTML += `<div class="answer-review">✔️ Tu respuesta: ${answer.userAnswer}</div>`;
            } else {
                reviewHTML += `<div class="answer-review">❌ Tu respuesta: ${answer.userAnswer}</div>`;
                reviewHTML += `<div class="answer-review">Respuesta correcta: ${answer.correctAnswer}</div>`;
            }
            li.innerHTML = reviewHTML;
            reviewListElem.appendChild(li);
        });
        
        setUsedQuestions(shuffledQuestions);
    }

    startBtn.addEventListener('click', startQuiz);
    restartBtn.addEventListener('click', startQuiz);
</script>
</body>
</html>